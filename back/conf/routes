# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                           controllers.Application.index

POST    /api/snapshot               controllers.SnapshotController.create
DELETE  /api/snapshot/:id           controllers.SnapshotController.delete(id: Int)

GET     /debug/init                 controllers.RepoController.initialize
GET     /debug/commits-loaded       controllers.RepoController.commitsLoaded
GET     /debug/destroy-commits      controllers.RepoController.destroyCommits

GET     /directory                  controllers.RepoController.retrieveFileByPath(file = "")
GET     /directory/                 controllers.RepoController.retrieveFileByPath(file = "")
GET     /directory/*file            controllers.RepoController.retrieveFileByPath(file)

GET     /api/search/directory/*file controllers.RepoController.retrieveFileByRegex(file)

GET     /api/currently/viewing/*file controllers.FileMetricsController.getUsersInFile(file)
GET     /api/currently/open         controllers.FileMetricsController.getCurrentlyOpenFiles
GET     /api/coefficients           controllers.FileMetricsController.getFileCoefficients
GET     /api/coefficients/*file     controllers.FileMetricsController.getFileCoefficientsFor(file)

GET     /api/metrics/all/*file      controllers.FileMetricsController.getFileLineViews(file)
GET     /api/metrics/popular/:since controllers.FileMetricsController.getMostPopularFiles(since)

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)
